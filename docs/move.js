window.Move||(window.Move=function(){typeof window.global=="undefined"&&(window.global=window);var Require=function(t){function n(e){var t=0;for(var n=e.length;n>=0;n--){var r=e[n];r=="."?e.splice(n,1):r===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}return e}function r(e,t){e=e.replace(/\/+$/g,"");var r=(t?t+"/../"+e:e).split("/");return n(r).join("/")}function i(e,t){if(!/^\w+:/.test(e)){var r=t.protocol+"//"+t.hostname;t.port&&t.port!==80&&(r+=":"+t.port);var i=t.pathname;e.charAt(0)==="/"?e=r+n(e.split("/")).join("/"):(i+=(i.charAt(i.length-1)==="/"?"":"/../")+e,e=r+n(i.split("/")).join("/"))}return e}function o(e,t,n){var i=e;if(e.charAt(0)==="."){n&&n.indexOf(t+"/index")!==-1&&(t+="/index");var u=e;e=r(e,t)}if(!o.modules.hasOwnProperty(e))throw new Error("Module not found "+JSON.stringify(i));var a=o.modules[e];if(a.exports===undefined){var f=function(t){return o(t,e,a.uri)};s(f,"main",o.main);var l=a.block;delete a.block,a.exports={},o.initFilter&&(l=o.initFilter(l)),l(f,a,a.exports)}return a.exports}function u(e,t,n){typeof t=="function"&&(n=t,t=null);var r={block:n};return s(r,"id",String(e)),t&&s(r,"uri",String(t)),o.modules[r.id]=r,r}var s;Object.defineProperty?s=function(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!0,configurable:!1})}:s=function(e,t,n){e[t]=n},o.modules={};var a=u("");return delete a.block,a.exports=t||{},s(o,"main",a),o.define=u,o},module,modules={},_require=Require();_require.define("compiler/ast-mutators","compiler/ast-mutators.js",function(e,t,n,i,s){var o=e("./parser"),u=e("./process");n.add_implicit_returns=function(t){var n=u.ast_walker(),r=u.MAP,i;i=function a(e){if(!e)return e;var t=e[0],n;if(t==="stat")e[0]="return";else{if(t==="defun")return e[0]="function",["return",e];if(t==="if")for(n=2;n<e.length;++n)e[n]=a(e[n]);else if(t==="block"){var r=e[1];r&&r.length!==0&&(r[r.length-1]=a(r[r.length-1]))}}return e};var s=function(t,s,o,u){return o.length&&(o[o.length-1]=i(o[o.length-1])),[this[0],t,s.slice(),r(o,n.walk),u]},o=n.with_walkers({defun:s,"function":s},function(){return n.walk(t)});return o},n.first_time_var_delc=function(t,n){function l(e){a=new s(a),a.vars=[];var t=a.body=e();if(a.vars.length){var n=t[0]==="toplevel"?t[1]:t,r=["var",i(a.vars,function(e){return[e]})];n.splice(0,0,r)}return a=a.parent,t}function c(e){return a.define(e)}function h(e,t,n,s){return[this[0],c(e),t,l(function(){return i(t,c),i(n,r.walk)}),s]}var r=u.ast_walker(),i=u.MAP,s=u.Scope,a=null,f=o.slice;return n&&(a=new s,a.names=o.array_to_hash(n)),l(function(){var e=r.with_walkers({defun:h,"function":h,"var":function(e){return[this[0],i(e,function(e){c(e[0]);var t=[e[0]];return e.length>1&&(t[1]=r.walk(e[1])),t})]},"import":function(e){i(e,function(e){c(e[0]),a.vars.push(e[0])})},"export":function(e){i(e,function(e){c(e[0]),a.vars.push(e[0])})},"const":function(e){i(e,function(e){c(e[0])})},assign:function(e,t,n){if(t[0]==="name"){var i=t[1],s=a.has(i);s||(a.vars.push(i),c(i))}return[this[0],e,r.walk(t),r.walk(n)]},"for-in":function(e,t,n,i){return e?[this[0],r.walk(e),r.walk(t),r.walk(n),r.walk(i)]:(a.has(t)||(a.vars.push(t),c(t)),[this[0],e,t,r.walk(n),r.walk(i)])}},function(){return r.walk(t)});return e})};var a=/^[_\$a-z][_\$\w\d]*$/i,f=function(t){var n;if(t[0]==="name")n=t[1];else if(t[0]==="dot")n=t[t.length-1];else if(t[0]==="sub"){t=t[t.length-1];if(t[0]==="string"){n=t[1];if(o.KEYWORDS[n]||o.RESERVED_WORDS[n]||!a.test(n))n=undefined}else n=t}return n};n.named_lambda_assignments=function(t){var n=u.ast_walker(),r=u.MAP,i=n.with_walkers({"export":function(e){return[this[0],r(e,function(e){var t=[e[0]];return e.length>1&&(e[1]&&e[1][0]==="function"&&!e[1][1]&&(e[1][1]=e[0]),t[1]=n.walk(e[1])),t})]},assign:function(e,t,r){if(Array.isArray(r)&&r[0]==="function"&&!r[1]){var i=f(t);typeof i=="string"&&(r[1]=i)}return[this[0],e,n.walk(t),n.walk(r)]}},function(){return n.walk(t)});return i},n.enforce_strict_eq_ops=function(t){var n=u.ast_walker(),r=u.MAP;return n.with_walkers({binary:function(e,t,r){return e==="=="?e="===":e==="!="&&(e="!=="),[this[0],e,n.walk(t),n.walk(r)]}},function(){return n.walk(t)})},n.enable_keyword_arguments=function(t,n){var r=u.ast_walker(),i=u.MAP;typeof n!="object"&&(n={});var s=n.raw?"true":"_MoveKWArgsT";return r.with_walkers({"function":function(e,t,n,o){if(t.length){var u,a,f,l=["seq"],c=t[0],h=[null],p=["binary","&&",["binary","!==",["name",c],["name","null"]],["binary","&&",["binary","===",["unary-prefix","typeof",["name",c]],["string","object"]],["binary","===",["dot",["name",c],"__kw"],["name",s]]]];l.push(["assign",!0,["dot",["name","arguments"],"keywords"],["name",c]]);for(u=t.length;--u!==-1;)a=t[u],f=o&&o[a],l.push(["assign",!0,["name",a],["dot",["name",c],a]]),f&&h.push(["if",["binary","===",["name",a],["name","undefined"]],["stat",["assign",!0,["name",a],f]]]);h[0]=["stat",["binary","&&",p,l]],n=h.concat(n)}return[this[0],e,t,i(n,r.walk),o]},call:function(e,t){if(t.length===1&&t[0][0]==="object"){var n,o=t[0][1],u=[];for(var a=o.length;--a!==-1;)n=o[a],n[0]==="__kw"&&n[1]&&n[1][1]==="__Move_KWArgs__"&&u.push(a);if(u.length){while(u.length>1)delete o[u.pop()];o[u.pop()]=["__kw",["name",s]]}}return[this[0],r.walk(e),i(t,r.walk)]}},function(){return r.walk(t)})};var l=function(t,n){var r,i,s;if(t&&t[0]==="object"){r=t[1];for(s=0;s<r.length;s++){i=r[s];if(i[0]==="__kw"&&i[1][0]==="name"&&(n.raw&&i[1][1]==="true"||!n.raw&&i[1][1]==="_MoveKWArgsT"))return r.splice(s,1),!0}}return!1};n.enable_class_rt_function=function(t,n){var i=u.ast_walker(),s=u.MAP,o;return i.with_walkers({name:function(e){return e==="class"&&(e="__class"),[this[0],e]},assign:function(e,t,n){var s=f(t);return o=typeof s=="string"?s:undefined,r=[this[0],e,i.walk(t),i.walk(n)],o=undefined,r},call:function(e,t){var r,u,a,f,c;return e[0]==="name"&&e[1]==="class"&&o&&(r=o||"__UntitledClass",t.unshift(["assign",!0,["name",r],["function",r,[],[["return",["call",["dot",["name","__class"],"create"],[["name",r],["name","arguments"]]]]]]]),l(t[1],n)),[this[0],i.walk(e),s(t,i.walk)]}},function(){return i.walk(t)})}}),_require.define("compiler","compiler/index.js",function(e,t,n,r,i){var s;try{s=e("fs")}catch(o){}var u;try{u=e("http")}catch(o){}var a=e("./parser"),f=e("./process"),l=e("./ast-mutators");e("../runtime/runtime_object"),e("../runtime/runtime_string"),n.preprocessors={},n.defaultCompilationOptions={source:null,filename:"?",globals:[],ignorePragmas:!1,implicitReturns:!0,automaticVarDeclarations:!0,namedLambdas:!0,strictEqualityOperators:!0,keywordArguments:!0,mangleNames:!1,optimizationLevel:0,runtimeClassCreation:!0,moduleStub:!1,codegen:!0,outputFormatting:{indent_level:2,beautify:!0},detailedOutput:!1,strict:!0,raw:!1},n.filenameToModuleId=function(t){return String(t).replace(/\/index$|^index$|^\/+|\/+$|\.[^\.]+$/g,"")};var c=function(e,t,n){e.name="MoveSyntaxError";var r=t.split(/[\r\n]/),i=e.line+1,s=3,o=i<s?0:i-s;r=r.slice(o,i);if(i>s){var u="";if(m=r[0].match(/^\s+/))for(f=0;f<m[0].length;++f)u+=" ";r[0]=u+"...\n"+r[0]}r=r.join("\n");var a="";for(var f=0;f<e.col;++f)a+=" ";return e.filename=n.filename,e.sourceDetails=r+"\n"+a+"â¬†",e.diagnostic=e.name+": "+e.message+" ("+n.filename+":"+e.line+":"+e.col+")\n"+e.sourceDetails,e.stack&&(e.stack=e.diagnostic+"\n"+e.stack.split(/[\r\n]/).slice(1).join("\n")),e};n.compile=function(r,i){var s=Object.create(n.defaultCompilationOptions);typeof r=="object"&&(i=r,r=i.source),r||(r="");if(typeof i=="object")for(var o in i)s[o]=i[o];s.strictMode=!1,s.embedTokens=!1;if(!s.ignorePragmas){var u=/^\s*(?:true|y.*|on|1)\s*$/i;r.forEachMatch(/^#\s*pragma\s+(\w+)\s(.+)/gm,function(e){var t=e[1],n=e[2];switch(t){case"strict":s.strict=u.test(n);break;case"enable":if(n!=="ehtml")throw new Error('Unknown value "'+n+'" for "enable" pragma');Array.isArray(s.preprocess)?s.preprocess.indexOf("ehtml")===-1&&s.preprocess.push("ehtml"):s.preprocess=["ehtml"];break;case"disable":if(n!=="ehtml")throw new Error('Unknown value "'+n+'" for "disable" pragma');Array.isArray(s.preprocess)&&(n=s.preprocess.indexOf("ehtml"))!==-1&&s.preprocess.splice(n,1);break;default:throw new Error('Unknown pragma directive "'+t+'"')}})}if(s.preprocess){if(!Array.isArray(s.preprocess))throw Error('"preprocess" option must have an array value');s.preprocess.forEach(function(t){var i,o;typeof t=="function"||typeof t=="object"?i=t:(i=n.preprocessors[t])||(i=e("./preprocessors/"+t));if(!i)throw Error("preprocessor "+t+" not found");typeof i.process=="function"?o=i.process:o=i,r=o.call(i,r,s)})}r+="\n",s.raw||(r=g(r,s));try{var h=a.parse(r,s)}catch(p){throw p.name==="JS_Parse_Error"&&(p=c(p,r,s)),p}s.implicitReturns&&(h=l.add_implicit_returns(h,s));if(s.automaticVarDeclarations){var d=["global","process","require","window","__filename","__dirname","module"];Array.isArray(s.globals)&&s.globals.length&&(d=d.concat(s.globals)),s.moduleStub&&d.push("exports"),h=l.first_time_var_delc(h,d,s)}s.namedLambdas&&(h=l.named_lambda_assignments(h,s)),s.strictEqualityOperators&&(h=l.enforce_strict_eq_ops(h,s)),s.keywordArguments&&(h=l.enable_keyword_arguments(h,s)),s.runtimeClassCreation&&(h=l.enable_class_rt_function(h,s)),s.mangleNames&&(h=f.ast_mangle(h)),s.optimizationLevel&&(h=f.ast_squeeze(h)),typeof s.optimizationLevel=="number"&&s.optimizationLevel>1&&(h=f.ast_squeeze_more(h));if(!s.codegen)return h;var v=f.gen_code(h,s.outputFormatting);return s.strict&&(s.raw?v='"use strict";'+v:v=v.replace(/\(function\s*\(\)\s*\{/,'(function(){"use strict";')),!s.raw&&s.moduleStub&&(v=v.replace(/^\(function\s*\(\)\s*\{/,"function(require,module,exports){").replace(/\)\(\);?$/,"")),n.debug&&typeof console!="undefined"&&console.log((i.filename||"<move code>")+" -> \n"+v),s.detailedOutput?{ast:h,code:v}:v},n.compileFileSync=function(t,r){if(!s)throw new Error("File system access is not supported");return typeof r=="object"&&!r.filename?r.filename=t:r={filename:t},n.compile(s.readFileSync(t,"utf8"),r)},n.eval=function(e,t){if(typeof e=="object")t=e,e=t.source;else{if(!t||typeof t!="object")typeof option=="string"?t={filename:t}:t={};t.source=e}var r=n.compile(t);return h(r,t)};var h,p;try{p=e("vm").runInThisContext,h=function(n,r){var i={require:global.require};global.require=e;var s=p(n.code!==undefined?n.code:n,String(r&&r.filename||"<input>"));return Object.keys(i).forEach(function(e){var t=i[e];t!==undefined?global[e]=t:delete global[e]}),s}}catch(o){h=function(t,n){var r=global.require;global.require=Move.require;var i=global.eval(t.code!==undefined?t.code:t);return r!==undefined?global.require=r:delete global.require,i}}typeof window!="undefined"&&window?n.compileURL=function(t,n,r){var i=v(arguments,[["url"],["options"],["callback"]]);typeof i.options=="function"&&(i.callback=i.options,i.options={});var s=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;return s.open("GET",i.url,!0),"overrideMimeType"in s&&s.overrideMimeType("text/plain"),s.onreadystatechange=function(){if(s.readyState===4){var e,n,r=t.indexOf("://")!==-1?t.match(/^http/):document.location.protocol.match(/^http/);if(r&&String(s.status).charAt(0)==="2"||!r&&s.status===0)try{e=move.compile(s.responseText,i.options)}catch(o){n=o}else s.status&&s.statusText?(n=new Error("HTTP request error: "+s.status+" "+s.statusText),n.httpStatus=s.status):n=new Error("Unspecified HTTP request error");if(typeof i.callback=="function")i.callback(n,e);else if(n)throw n}},s.send(null)}:u;var d=e("../runtime/symbols")._MoveKWArgsT,v=function(t,n){var r=t[0],i,s,o,u;if(typeof r=="object"&&r.__kw===d){i=r;for(u=0;u<n.length;++u)s=n[u][0],i[s]===undefined&&(o=n[u][1])!==undefined&&(i[s]=o)}else{i={};for(u=0;u<n.length;++u)s=n[u][0],o=t[u],o===undefined&&(o=n[u][1]),o!==undefined&&(i[s]=o)}return i},g=function(t,n){var r="(function() { ";return n.automaticVarDeclarations||(r+="var "),r+="M = Move.runtime",Object.keys(global.Move.runtime).forEach(function(e){e==="dprinter"?n.moduleStub&&(r+=", dprint = M.dprinter(module)"):r+=", "+e+" = M."+e}),r+"; "+t+"})()"};e.extensions&&(e.extensions[".mv"]=e.extensions[".move"]=function(t,r){return content=n.compileFileSync(r),t._compile(content,r)}),Object.keys(n).forEach(function(e){global.Move[e]=n[e]}),e("../runtime")}),_require.define("compiler/parser","compiler/parser.js",function(e,t,n,r,i){function y(e){return e=e.charCodeAt(0),e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function b(e){return y(e)||e=="$"||e=="_"}function w(e){return e=e.charCodeAt(0),e>=48&&e<=57}function E(e){if(l.test(e))return parseInt(e.substr(2),16);if(c.test(e))return parseInt(e.substr(1),8);if(h.test(e))return parseFloat(e)}function S(e,t,n,r){this.name="JS_Parse_Error",this.message=e,this.line=t,this.col=n,this.pos=r;try{({})()}catch(i){this.stack=this.message,i&&i.stack&&(this.stack+="\n"+i.stack.split(/[\r\n]/).slice(3).join("\n"))}}function x(e,t,n,r){throw new S(e,t,n,r)}function T(e,t,n){return e.type==t&&(n==null||e.value==n)}function C(e,t){function r(){return n.text.charAt(n.pos)}function i(e){var t=n.text.charAt(n.pos++);if(e&&!t)throw N;return t=="\n"?(n.newline_before=!0,++n.line,n.col=0):++n.col,t}function o(){return!n.peek()}function l(e,t){var r=n.text.indexOf(e,n.pos);if(t&&r==-1)throw N;return r}function c(){n.tokline=n.line,n.tokcol=n.col,n.tokpos=n.pos}function h(e,t,r){n.regex_allowed=e=="operator"&&!R(L,t)||e==="keyword"&&R(u,t)||e==="punc"&&R(v,t);var i={type:e,value:t,line:n.tokline,col:n.tokcol,pos:n.tokpos,nlb:n.newline_before};return r||(i.comments_before=n.comments_before,n.comments_before=[]),n.newline_before=!1,n.prev_token=i,i}function S(){while(R(d,r()))i()}function T(e){var t="",n=r(),s=0;while(n&&e(n,s++))t+=i(),n=r();return t}function C(e){x(e,n.tokline,n.tokcol,n.tokpos)}function k(e){var t=!1,n=!1,r=!1,i=e==".",s=T(function(s,o){return s=="x"||s=="X"?r?!1:r=!0:!!r||s!="E"&&s!="e"?s=="-"?n||o==0&&!e?!0:!1:s=="+"?n:(n=!1,s=="."?i?!1:i=!0:y(s)):t?!1:t=n=!0});e&&(s=e+s);var o=E(s);if(!isNaN(o))return h("num",o);C("Invalid syntax: "+s)}function A(){var e=i(!0);switch(e){case"n":return"\n";case"r":return"\r";case"t":return"	";case"b":return"\b";case"v":return"";case"f":return"\f";case"0":return"\0";case"x":return String.fromCharCode(O(2));case"u":return String.fromCharCode(O(4));default:return e}}function O(e){var t=0;for(;e>0;--e){var n=parseInt(i(!0),16);isNaN(n)&&C("Invalid hex-character pattern in string"),t=t<<4|n}return t}function M(){return I("Unterminated string constant",function(){var e=i(),t="";for(;;){var n=i(!0);if(n=="\\")n=A();else if(n==e)break;t+=n}return h("string",t)})}function _(){i();var e=l("\n"),t;return e==-1?(t=n.text.substr(n.pos),n.pos=n.text.length):(t=n.text.substring(n.pos,e),n.pos=e),h("comment1",t,!0)}function D(){return i(),I("Unterminated multiline comment",function(){var e=l("*/",!0),t=n.text.substring(n.pos,e),r=h("comment2",t,!0);return n.pos=e+2,n.line+=t.split("\n").length-1,n.newline_before=t.indexOf("\n")>=0,r})}function P(){return I("Unterminated regular expression",function(){var e=!1,t="",n,r=!1;while(n=i(!0))if(e)t+="\\"+n,e=!1;else if(n=="[")r=!0,t+=n;else if(n=="]"&&r)r=!1,t+=n;else{if(n=="/"&&!r)break;n=="\\"?e=!0:t+=n}var s=T(function(e){return R(g,e)});return h("regexp",[t,s])})}function H(e){function t(e){if(!r())return e;var n=e+r();return R(p,n)?(i(),t(n)):e}return h("operator",t(e||i()))}function B(){i();var e=n.regex_allowed;switch(r()){case"/":return n.comments_before.push(_()),n.regex_allowed=e,q();case"*":return n.comments_before.push(D()),n.regex_allowed=e,q()}return n.regex_allowed?P():H("/")}function j(){return i(),w(r())?k("."):h("punc",".")}function F(){var e=T(b);return R(s,e)?R(p,e)?h("operator",e):R(a,e)?h("atom",e):h("keyword",e):h("name",e)}function I(e,t){try{return t()}catch(n){if(n!==N)throw n;C(e)}}function q(e){if(n.queued_tokens.length)return n.queued_tokens.shift();if(e)return P();S(),c();var t=r();if(!t)return h("eof");if(w(t))return k();if(t==='"'||t==="'")return M();if(R(m,t))return h("punc",i());if(t===".")return j();if(t==="/")return B();if(t==="#"){var s=n.regex_allowed;return n.comments_before.push(_()),n.regex_allowed=s,q()}if(t==="^")return i(),t=r(),t==="{"&&(n.queued_tokens.push(h("punc","(")),n.queued_tokens.push(h("punc",")"))),h("keyword","function");if(R(f,t))return H();if(t==="@"){i();var o=F(),u=h("name","this");return u.nlb=o.nlb,o.nlb=!1,n.queued_tokens.push(h("punc",".")),n.queued_tokens.push(o),u}if(b(t))return F();C("Unexpected character '"+t+"'")}typeof t!="object"&&(t={});var n={text:e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,""),pos:0,tokpos:0,line:0,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],queued_tokens:[]};return q.context=function(e){return e&&(n=e),n},q}function D(e,t,n){this.name=e,this.start=t,this.end=n}function P(e,t,n){function s(e,t){return T(i.token,e,t)}function o(){return i.peeked||(i.peeked=i.input())}function u(){return i.peeked2?i.peeked2:(o(),i.peeked2=i.input())}function a(){return i.prev=i.token,i.peeked?(i.token=i.peeked,i.peeked2?(i.peeked=i.peeked2,i.peeked2=null):i.peeked=null):i.token=i.input(),i.token}function f(){return i.prev}function l(e,t,n,r){var s=i.input.context();x(e,t!=null?t:s.tokline,n!=null?n:s.tokcol,r!=null?r:s.tokpos)}function c(e,t){l(t,e.line,e.col)}function h(e){e==null&&(e=i.token),c(e,"Unexpected token: "+e.type+" "+JSON.stringify(e.value))}function p(e,t){if(s(e,t))return a();c(i.token,"Unexpected token: "+i.token.type+", expected "+e)}function d(e,t,n,r){if(s(e,t)||s(n,r))return a();c(i.token,"Unexpected token: "+i.token.type+", expected "+e+" or "+n)}function v(e){return p("punc",e)}function m(e,t){return d("punc",e,"punc",t)}function g(){return!t&&(i.token.nlb||s("eof")||s("punc","}"))}function y(){s("punc",";")?a():g()||h()}function b(){return F(arguments)}function w(){v("(");var e=yt();return v(")"),e}function E(e,t,n){return e instanceof D?e:new D(e,t,n)}function N(){s("operator","/")&&(i.peeked2?(i.token=i.peeked2,i.peeked2=null):i.token=i.input(!0),i.peeked=null),r.automaticVarDeclarations&&i.token.type==="keyword"&&i.token.value==="var"&&h();switch(i.token.type){case"num":case"string":case"regexp":case"operator":case"atom":return j();case"name":return T(o(),"punc",":")?P(B(i.token.value,a,a)):j();case"punc":switch(i.token.value){case"{":return b("block",V());case"[":case"(":return j();case";":return a(),b("block");default:h()};case"keyword":switch(B(i.token.value,a)){case"break":return I("break");case"continue":return I("continue");case"debugger":return y(),b("debugger");case"do":return function(e){return p("keyword","while"),b("do",B(w,y),e)}(bt(S));case"for":return U();case"function":return z(!0);case"if":return X();case"return":return i.in_function==0&&l("'return' outside of function"),b("return",s("punc",";")?(a(),null):g()?null:B(yt,y));case"switch":return b("switch",w(),$());case"throw":return b("throw",B(yt,y));case"try":return J();case"var":return B(G,y);case"const":return B(Y,y);case"while":return b("while",w(),bt(S));case"with":l("'with' statement not allowed");case"import":return B(Z,y);case"export":return B(et,y);default:h()}}}function P(e){i.labels.push(e);var n=i.token,r=S();return t&&!R(M,r[0])&&h(n),i.labels.pop(),b("label",e,r)}function j(){return b("stat",B(yt,y))}function I(e){var t=s("name")?i.token.value:null;return t!=null?(a(),q(t,i.labels)||l("Label "+t+" without matching loop or statement")):i.in_loop==0&&l(e+" not inside a loop or switch"),y(),b(e,t)}function U(){var e=!1;(e=s("punc","("))&&a();var t=!r.automaticVarDeclarations&&s("keyword","var");t&&a();if(s("name")&&T(o(),"operator","in")){var n=i.token.value;a(),a();var u=yt(!1,e);return e&&v(")"),b("for-in",t,n,u,bt(S))}var f=s("punc",";")?null:t?G():yt();v(";");var l=s("punc",";")?null:yt();v(";");var c;return e?(c=s("punc",")")?null:yt(),v(")")):c=s("punc","{")?null:yt(!1,!1,!0),b("for",f,l,c,bt(S))}function W(e){var t=s("name")?B(i.token.value,a):null;e&&!t&&!i.in_function&&h(),v("(");var n=ut();return b(e?"defun":"function",t,n.names,function(){++i.in_function;var e=i.in_loop;i.in_loop=0;var t=V();return--i.in_function,i.in_loop=e,t}(),n.values)}function X(){var e=w(),t=S(),n;return s("keyword","else")&&(a(),n=S()),b("if",e,t,n)}function V(){v("{");var e=[];while(!s("punc","}"))s("eof")&&h(),e.push(S());return a(),e}function J(){var e=V(),t,n;if(s("keyword","catch")){a(),v("("),s("name")||l("Name expected");var r=i.token.value;a(),v(")"),t=[r,V()]}return s("keyword","finally")&&(a(),n=V()),!t&&!n&&l("Missing catch/finally blocks"),b("try",e,t,n)}function K(){var e=[];for(;;){s("name")||h();var t=i.token.value;a(),s("operator","=")?(a(),e.push([t,yt(!1)])):e.push([t]);if(!s("punc",","))break;a()}return e}function Q(){var e=[],t=0,n,r,o,u;for(;;){t=0;while(i.token.value===".")++t,a();s("name")||h(),n=[i.token.value],a();while(i.token.value==="/")a(),s("name")||h(),n.push(i.token.value),a();r=n[n.length-1],o=n.join("/");if(t){if(t===1)o="./"+o;else{u=t-1;while(u--)o="../"+o}e.push([r,["string",o]])}else s("operator","=")?(a(),e.push([r,yt(!1)])):e.push([r,["string",o]]);if(!s("punc",","))break;a()}return e}function G(){return b("var",K())}function Y(){return b("const",K())}function Z(){return b("import",Q())}function et(){return b("export",K())}function tt(){var e=nt(!1),t;return s("punc","(")?(a(),t=rt(")")):t=[],ct(b("new",e,t),!0)}function nt(e,t){if(s("operator","new"))return a(),tt();if(s("operator")&&R(k,i.token.value))return ht("unary-prefix",B(i.token.value,a),nt(e,t));if(s("punc")){switch(i.token.value){case"(":return a(),ct(B(yt(!1,e,t),H(v,")")),e);case"[":return a(),ct(st(),e,t);case"{":return a(),ct(ot(),e,t)}h()}if(s("keyword","function"))return a(),ct(z(!1),e);if(R(_,i.token.type)){var n=i.token.type=="regexp"?b("regexp",i.token.value[0],i.token.value[1]):b(i.token.type,i.token.value);return ct(B(n,a),e,t)}h()}function rt(e,t,n){var r=!0,i=[];while(!s("punc",e)){r?r=!1:v(",");if(t&&s("punc",e))break;s("punc",",")&&n?i.push(["atom","undefined"]):i.push(yt(!1))}return a(),i}function it(e,t,n,r){var i=!0,o=[];r||(r=0x10000000000000000);try{while(!s("punc",e)&&--r){i?i=!1:v(",");if(t&&s("punc",e))break;s("punc",",")&&n?o.push(["atom","undefined"]):o.push(yt(!1))}a()}catch(u){if(String(u.message).indexOf("Unexpected token")!==0)throw u}return o}function st(){return b("array",rt("]",!t,!0))}function ot(){var e=!0,n=[];while(!s("punc","}")){e?e=!1:v(",");if(!t&&s("punc","}"))break;var r=i.token.type,o=at();r!="name"||o!="get"&&o!="set"||!!s("punc",":")?(v(":"),n.push([o,yt(!1)])):n.push([ft(),z(!1),o])}return a(),b("object",n)}function ut(){var e=!0,n,r,o=[],u={};while(!s("punc",")")){e?e=!1:v(",");if(!t&&s("punc",")"))break;n=i.token.type,r=at(),o.push(r),s("punc",":")?(a(),u[r]=yt(!1)):u[r]=undefined}return a(),{names:o,values:u}}function at(){switch(i.token.type){case"num":case"string":return B(i.token.value,a)}return ft()}function ft(){switch(i.token.type){case"name":case"operator":case"keyword":case"atom":return B(i.token.value,a);default:h()}}function lt(e,t,n,r){if(s("operator","=")){a();var i=S();return ct(["call",["dot",e,"_move_setSlice"],[t||["num","0"],n||["name","undefined"],i[1]||["name","undefined"]]],r)}var o=[t||["num","0"]];return n&&o.push(n),ct(["call",["dot",e,"slice"],o],r)}function ct(e,t,n){if(s("punc","."))return a(),ct(b("dot",e,ft()),t,n);if(s("punc","[")){if(i.token.nlb)return e;a();var f=null,l=null;return s("punc",":")?a():f=B(yt(!1,t,n),H(m,"]",":")),i.prev.value===":"?(s("punc","]")?a():l=B(yt(!1,t,n),H(v,"]")),lt(e,f,l,t)):ct(b("sub",e,f),t,n)}if(t&&s("punc","("))return i.token.nlb?e:(a(),ct(b("call",e,rt(")")),t,n));if(t&&!n&&r.keywordArguments&&s("punc","{")){if(i.token.nlb)return e;a();var c;s("operator","&")?(a(),c=yt(!1,t,n),v("}"),r.raw||(c=["call",["name","_MoveKWArgsT"],[c]])):(c=ot(),c[1].push(["__kw",["name","__Move_KWArgs__"]]));var h=e;return ct(b("call",h,[c]),t,n)}if(t&&s("operator")&&R(L,i.token.value))return i.token.nlb?e:B(H(ht,"unary-postfix",i.token.value,e),a);if(t&&!s("eof")&&!s("punc")&&!s("operator")&&(i.token.type!=="keyword"||i.token.value==="function")){if(i.token.nlb)return e;var p=[],d=!0,g,y,w;while(!s("punc",";")){if(d)d=!1;else{if(!s("punc",",")){g=!0;break}y=o();if(y.type==="name"&&(!(w=u())||w.type==="punc"&&w.value===":")){g=!0;break}if(y.type==="punc"&&y.value==="}"){g=!0;break}a()}p.push(yt(!1,t,n))}return!g&&!s("punc",";")&&a(),i.token.nlb||s("punc",";")?b("call",e,p):ct(b("call",e,p),!0,n)}return e}function ht(e,t,n){return(t=="++"||t=="--")&&!mt(n)&&l("Invalid use of "+t+" operator"),b(e,t,n)}function pt(e,t,n,r){var o=s("operator")?i.token.value:null,u=o!=null?O[o]:null;n===undefined&&(n=!0);if(u!=null&&u>t){a();var f=pt(nt(n,r),u,n,r);return pt(b("binary",o,e,f),t,n,r)}return e}function dt(e,t){return e===undefined&&(e=!0),pt(nt(e,t),0,e,t)}function vt(e,t){var n=dt(e,t);if(s("operator","?")){a();var r=yt(!1,e,t);return v(":"),b("conditional",n,r,yt(!1,e,t))}return n}function mt(e){switch(e[0]){case"dot":case"sub":return!0;case"name":return e[1]!="this"}}function gt(e,t){var n=vt(e,t),r=i.token.value;if(s("operator")&&R(A,r)){if(mt(n))return a(),b("assign",A[r],n,gt());l("Invalid assignment")}return n}function yt(e,t,n){arguments.length==0&&(e=!0);var r=gt(t,n);return e&&s("punc",",")?(a(),b("seq",r,yt())):r}function bt(e){try{return++i.in_loop,e()}finally{--i.in_loop}}var r={};typeof t=="object"&&(r=t,t=r.strictMode,n=r.embedTokens);var i={input:typeof e=="string"?C(e,r):e,token:null,prev:null,peeked:null,in_function:0,in_loop:0,labels:[]};i.token=a();var S=n?function(){var e=i.token,t=N.apply(this,arguments);return t[0]=E(t[0],e,f()),t}:N,z=n?function(){var e=f(),t=W.apply(this,arguments);return t[0]=E(t[0],e,f()),t}:W,$=H(bt,function(){v("{");var e=[],t=null;while(!s("punc","}"))s("eof")&&h(),s("keyword","case")?(a(),t=[],e.push([yt(),t]),v(":")):s("keyword","default")?(a(),v(":"),t=[],e.push([null,t])):(t||h(),t.push(S()));return a(),e});return b("toplevel",function(e){while(!s("eof"))e.push(S());return e}([]))}function H(e){var t=F(arguments,1);return function(){return e.apply(this,t.concat(F(arguments)))}}function B(e){e instanceof Function&&(e=e());for(var t=1,n=arguments.length;--n>0;++t)arguments[t]();return e}function j(e){var t={};for(var n=0;n<e.length;++n)t[e[n]]=!0;return t}function F(e,t){return Array.prototype.slice.call(e,t==null?0:t)}function I(e){return e.split("")}function q(e,t){for(var n=t.length;--n>=0;)if(t[n]===e)return!0;return!1}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var s=j(["break","case","catch","const","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","throw","try","typeof","var","void","while","with","import","export","xor"]);n.KEYWORDS=s;var o=j(["abstract","boolean","byte","char","class","debugger","double","enum","extends","final","float","goto","implements","int","interface","long","native","package","private","protected","public","short","static","super","synchronized","throws","transient","volatile"]);n.RESERVED_WORDS=o;var u=j(["return","new","delete","throw","else","case"]),a=j(["false","null","true","undefined"]),f=j(I("+-*&%=<>!?|~")),l=/^0x[0-9a-f]+$/i,c=/^0[0-7]+$/,h=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,p=j(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","%=","|=","&=","&&","||","xor"]),d=j(I(" \n\r	")),v=j(I("[{}(,.;:")),m=j(I("[]{}(),;:")),g=j(I("gmsiy"));S.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")"+"\n\n"+this.stack};var N={},k=j(["typeof","void","delete","--","++","!","~","-","+"]),L=j(["--","++"]),A=function(e,t,n){while(n<e.length)t[e[n]]=e[n].substr(0,e[n].length-1),n++;return t}(["+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","xor=","&="],{"=":!0},0),O=function(e,t){for(var n=0,r=1;n<e.length;++n,++r){var i=e[n];for(var s=0;s<i.length;++s)t[i[s]]=r}return t}([["||"],["&&"],["|"],["xor"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),M=j(["for","do","while","switch"]),_=j(["atom","num","string","regexp","name"]);D.prototype.toString=function(){return this.name},n.tokenizer=C,n.parse=P,n.slice=F,n.curry=H,n.member=q,n.array_to_hash=j,n.PRECEDENCE=O,n.KEYWORDS_ATOM=a,n.RESERVED_WORDS=o,n.KEYWORDS=s,n.ATOMIC_START_TOKEN=_,n.OPERATORS=p,n.is_alphanumeric_char=y,n.is_identifier_char=b}),_require.define("compiler/preprocessors/ehtml","compiler/preprocessors/ehtml.mv",function(e,t,n,r,i){(function(){"use strict";var e,t,r,i,s,o,u,a,f,l,c,h;e=Move.runtime,t=e._MoveKWArgsT,r=e.Text,i=e.extend,s=e.create,o=e.print,u=e.repeat,a=e.after,f=e.JSON,l=e.__class,c=e.EventEmitter,n.process=h=function(n,r){n!==null&&typeof n=="object"&&n.__kw===t&&(arguments.keywords=n,r=n.options,n=n.src);var i,s,o,u,a,f;return i=0,s=function(r){r!==null&&typeof r=="object"&&r.__kw===t&&(arguments.keywords=r,r=r.endch);var s,o;s=null;while(o=n[i++]){if(o===r&&s!=="\\")break;s=o}},o=function(){var r,s,o,a,f,l,c,h;r=0,s=i-1,o="<",a=[];while(o==="<"){f=l=null;while((o=n[i++])&&o!==">")f===null&&(f=o),o==="{"&&l!=="\\"&&(a.push([!0,s,i-1]),s=i,c=u(!0),a.push([!1,c]),s=i),l=o;if(f==="/"){--r;if(r<0)throw Error("EHTML: Premature termination")}else l!=="/"&&++r;if(!o||r===0)break;while((o=n[i++])&&o!=="<")o==="{"&&l!=="\\"&&(a.push([!0,s,i-1]),s=i,c=u(!0),a.push([!1,c]),s=i),l=o}return a.push([!0,s,i]),h="",a.forEach(function(e){e!==null&&typeof e=="object"&&e.__kw===t&&(arguments.keywords=e,e=e.range);var r;return e[0]?(r=n.substring(e[1],e[2]),r=r.replace(/\n/g,"\\n"),r=r.replace(/\t/g,"\\t"),r=r.replace(/'/g,"\\'")):r="'+("+e[1]+")+'",h+=r}),h="EHTML('"+h+"')",h},u=function(r){r!==null&&typeof r=="object"&&r.__kw===t&&(arguments.keywords=r,r=r.isDeep);var u,a,f,l,c,h,p,d,v;u="",a=0,f=1,l=a,c=null,h=1;while(p=n[i++]){d=!1;switch(p){case" ":case"\n":case"\r":case"	":u+=p;break;case'"':v=i,s('"'),u+=n.substring(v-1,i);break;case"'":v=i,s("'"),u+=n.substring(v-1,i);break;case"<":l===f?(l=a,u+=p):u+=o();break;default:u+=p,d=!0}if(d){if(r&&c!=="\\")if(p==="{")++h;else if(p==="}"&&--h===0){u=u.substr(0,u.length-1);break}p.match(/[a-z0-9_\)\}]/i)?l=f:l=a}c=p}return u},a=u(),r.ehtmlDisableImplicitViewConstructor||a.match(/(exports\.createView|export\s+createView)\s*[=\r\n]/)&&(f=Move.filenameToModuleId(r.filename).split("/").slice(-1)[0].replace(".","_"),a="exports = module.exports = "+f+" = ^{"+" EHTML.createViewImpl.apply exports, arguments };"+'exports.__domid = module.id.replace("/", "_");'+a),a="EHTML = Move.EHTML\n"+a}})()}),_require.define("compiler/process","compiler/process.js",function(e,t,n,r,i){function l(e){function t(e){return[this[0],P(e,function(e){var t=[e[0]];return e.length>1&&(t[1]=s(e[1])),t})]}function s(e){if(!e||e.length===0)return null;try{i.push(e);var t=e[0],s=r[t];if(s){var o=s.apply(e,e.slice(1));if(o!=null)return o}return s=n[t],s.apply(e,e.slice(1))}finally{i.pop()}}function u(e,t){var n={},i;for(i in e)D(e,i)&&(n[i]=r[i],r[i]=e[i]);var s=t();for(i in n)D(n,i)&&(n[i]?r[i]=n[i]:delete r[i]);return s}var n={string:function(e){return[this[0],e]},num:function(e){return[this[0],e]},name:function(e){return[this[0],e]},toplevel:function(e){return[this[0],P(e,s)]},block:function(e){var t=[this[0]];return e!=null&&t.push(P(e,s)),t},"var":t,"const":t,"import":t,"export":t,"try":function(e,t,n){return[this[0],P(e,s),t!=null?[t[0],P(t[1],s)]:null,n!=null?P(n,s):null]},"throw":function(e){return[this[0],s(e)]},"new":function(e,t){return[this[0],s(e),P(t,s)]},"switch":function(e,t){return[this[0],s(e),P(t,function(e){return[e[0]?s(e[0]):null,P(e[1],s)]})]},"break":function(e){return[this[0],e]},"continue":function(e){return[this[0],e]},conditional:function(e,t,n){return[this[0],s(e),s(t),s(n)]},assign:function(e,t,n){return[this[0],e,s(t),s(n)]},dot:function(e){return[this[0],s(e)].concat(o(arguments,1))},call:function(e,t){return[this[0],s(e),P(t,s)]},"function":function(e,t,n,r){return[this[0],e,t.slice(),P(n,s),r]},defun:function(e,t,n,r){return[this[0],e,t.slice(),P(n,s),r]},"if":function(e,t,n){return[this[0],s(e),s(t),s(n)]},"for":function(e,t,n,r){return[this[0],s(e),s(t),s(n),s(r)]},"for-in":function(e,t,n,r){return e?[this[0],s(e),s(t),s(n),s(r)]:[this[0],e,t,s(n),s(r)]},"while":function(e,t){return[this[0],s(e),s(t)]},"do":function(e,t){return[this[0],s(e),s(t)]},"return":function(e){return[this[0],s(e)]},binary:function(e,t,n){return[this[0],e,s(t),s(n)]},"unary-prefix":function(e,t){return[this[0],e,s(t)]},"unary-postfix":function(e,t){return[this[0],e,s(t)]},sub:function(e,t){return[this[0],s(e),s(t)]},object:function(e){return[this[0],P(e,function(e){return e.length===2?[e[0],s(e[1])]:[e[0],s(e[1]),e[2]]})]},regexp:function(e,t){return[this[0],e,t]},array:function(e){return[this[0],P(e,s)]},stat:function(e){return[this[0],s(e)]},seq:function(){return[this[0]].concat(P(o(arguments),s))},label:function(e,t){return[this[0],e,s(t)]},"with":function(e,t){return[this[0],s(e),s(t)]},atom:function(e){return[this[0],e]}},r={},i=[];return{walk:s,with_walkers:u,parent:function(){return i[i.length-2]},stack:function(){return i}}}function c(e){this.names={},this.mangled={},this.rev_mangled={},this.cname=-1,this.refs={},this.uses_with=!1,this.uses_eval=!1,this.parent=e,this.children=[],e?(this.level=e.level+1,e.children.push(this)):this.level=0}function p(e){function s(e){t=new c(t);var n=t.body=e();return n.scope=t,t=t.parent,n}function o(e){return t.define(e)}function u(e){t.refs[e]=!0}function a(e,t,n,i){return[this[0],o(e),t,s(function(){return P(t,o),P(n,r)}),i]}var t=null,n=l(),r=n.walk,i=[];return s(function(){function f(e,t){for(t=e.children.length;--t>=0;)f(e.children[t]);for(t in e.refs)if(D(e.refs,t))for(var n=e.has(t),r=e;r;r=r.parent){r.refs[t]=n;if(r===n)break}}var s=n.with_walkers({"function":a,defun:a,"with":function(e,n){for(var r=t;r;r=r.parent)r.uses_with=!0},"var":function(e){P(e,function(e){o(e[0])})},"const":function(e){P(e,function(e){o(e[0])})},"try":function(e,t,n){if(t!=null)return[this[0],P(e,r),[o(t[0]),P(t[1],r)],n!=null?P(n,r):null]},name:function(e){e==="eval"&&i.push(t),u(e)},"for-in":function(e,t){e?o(t):u(t)}},function(){return r(e)});return P(i,function(e){if(!e.has("eval"))while(e)e.uses_eval=!0,e=e.parent}),f(t),s})}function d(e,t){function s(e,n){return!t&&!i.parent?e:i.get_mangled(e,n)}function o(e,t,n,i){return e&&(e=s(e)),n=u(n.scope,function(){return t=P(t,function(e){return s(e)}),P(n,r)}),[this[0],e,t,n,i]}function u(e,t){var n=i;i=e;for(var r in e.names)D(e.names,r)&&s(r,!0);var o=t();return o.scope=e,i=n,o}function a(e){return[this[0],P(e,function(e){return[s(e[0]),r(e[1])]})]}var n=l(),r=n.walk,i;return n.with_walkers({"function":o,defun:function(){var e=o.apply(this,arguments);switch(n.parent()[0]){case"toplevel":case"function":case"defun":return P.at_top(e)}return e},"var":a,"const":a,name:function(e){return[this[0],s(e)]},"try":function(e,t,n){return[this[0],P(e,r),t!=null?[s(t[0]),P(t[1],r)]:null,n!=null?P(n,r):null]},toplevel:function(e){var t=this;return u(t.scope,function(){return[t[0],P(e,r)]})},"for-in":function(e,t,n,i){return[this[0],e,s(t),r(n),r(i)]}},function(){return r(p(e))})}function m(e,t){return L(e).length>L(t[0]==="stat"?t[1]:t).length?t:e}function g(e){return e[0]==="block"&&e[1]&&e[1].length>0?e[1][e[1].length-1]:e}function y(e){if(e){e=g(e);if(e[0]==="return"||e[0]==="break"||e[0]==="continue"||e[0]==="throw")return!0}}function b(e){return e[0]==="unary-prefix"&&u(e[1],["!","delete"])||e[0]==="binary"&&u(e[1],["in","instanceof","==","!=","===","!==","<","<=",">=",">"])||e[0]==="binary"&&u(e[1],["&&","||"])&&b(e[2])&&b(e[3])||e[0]==="conditional"&&b(e[2])&&b(e[3])||e[0]==="assign"&&e[1]===!0&&b(e[3])||e[0]==="seq"&&b(e[e.length-1])}function w(e,t,n){return e[0]==="unary-prefix"&&e[1]==="!"?n?["conditional",e[2],n,t]:["binary","||",e[2],t]:n?["conditional",e,t,n]:["binary","&&",e,t]}function E(e){return!e||e[0]==="block"&&(!e[1]||e[1].length===0)}function S(e){return e[0]==="string"||e[0]==="unary-prefix"&&e[1]==="typeof"||e[0]==="binary"&&e[1]==="+"&&(S(e[2])||S(e[3]))}function T(e){E(e)||v("Dropping unreachable code: "+L(e,!0))}function N(e,t){function s(e){var n=["unary-prefix","!",e];switch(e[0]){case"unary-prefix":return e[1]==="!"&&b(e[2])?e[2]:n;case"seq":return e=o(e),e[e.length-1]=s(e[e.length-1]),e;case"conditional":return m(n,["conditional",e[1],s(e[2]),s(e[3])]);case"binary":var r=e[1],i=e[2],u=e[3];if(!t.keep_comps)switch(r){case"<=":return["binary",">",i,u];case"<":return["binary",">=",i,u];case">=":return["binary","<",i,u];case">":return["binary","<=",i,u]}switch(r){case"==":return["binary","!=",i,u];case"!=":return["binary","==",i,u];case"===":return["binary","!==",i,u];case"!==":return["binary","===",i,u];case"&&":return m(n,["binary","||",s(i),s(u)]);case"||":return m(n,["binary","&&",s(i),s(u)])}}return n}function a(e,t){var n=i;i=e;var r=t();return r.scope=e,i=n,r}function f(e){return e!=null&&e[0]==="block"&&e[1]&&(e[1].length===1?e=e[1][0]:e[1].length===0&&(e=["block"])),e}function c(e,t,n,i){return[this[0],e,t,a(n.scope,function(){return h(P(n,r),"lambda")}),i]}function h(e,n){return e=e.reduce(function(e,t){return t&&(t[0]==="block"?t[1]&&e.push.apply(e,t[1]):e.push(t)),e},[]),e=function(t,n){return e.forEach(function(e){n&&(e[0]==="var"&&n[0]==="var"||e[0]==="const"&&n[0]==="const")?n[1]=n[1].concat(e[1]):(t.push(e),n=e)}),t}([]),t.dead_code&&(e=function(n,r){return e.forEach(function(e){r?e[0]==="function"||e[0]==="defun"?n.push(e):e[0]==="var"||e[0]==="const"?(t.no_warnings||v("Variables declared in unreachable code"),e[1]=P(e[1],function(e){return e[1]&&!t.no_warnings&&T(["assign",!0,["name",e[0]],e[1]]),[e[0]]}),n.push(e)):t.no_warnings||T(e):(n.push(e),u(e[0],["return","throw","break","continue"])&&(r=!0))}),n}([])),t.make_seqs&&(e=function(t,n){return e.forEach(function(e){n&&n[0]==="stat"&&e[0]==="stat"?n[1]=["seq",n[1],e[1]]:(t.push(e),n=e)}),t}([])),n==="lambda"&&(e=function(t,n,r){while(t<e.length){r=e[t++];if(r[0]==="if"&&!r[3]){if(r[2][0]==="return"&&r[2][1]==null){n.push(d(s(r[1]),["block",e.slice(t)]));break}var i=g(r[2]);if(i[0]==="return"&&i[1]==null){n.push(d(r[1],["block",r[2][1].slice(0,-1)],["block",e.slice(t)]));break}}n.push(r)}return n}(0,[])),e}function d(e,t,n){return x(e,function(e,r){return r?(T(n),t):(T(t),n)},function(){return S(e,t,n)})}function S(e,t,n){e=r(e),t=r(t),n=r(n),E(t)?(e=s(e),t=n,n=null):E(n)?n=null:function(){var r=L(e),i=s(e),o=L(i);if(o.length<r.length){var u=t;t=n,n=u,e=i}}();if(E(n)&&E(t))return["stat",e];var i=["if",e,t,n];return t[0]==="if"&&E(t[3])&&E(n)?i=m(i,r(["if",["binary","&&",e,t[1]],t[2]])):t[0]==="stat"?n?n[0]==="stat"&&(i=m(i,["stat",w(e,t[1],n[1])])):i=m(i,["stat",w(e,t[1])]):n&&t[0]===n[0]&&(t[0]==="return"||t[0]==="throw")&&t[1]&&n[1]?i=m(i,[t[0],w(e,t[1],n[1])]):n&&y(t)?(i=[["if",e,t]],n[0]==="block"?n[1]&&(i=i.concat(n[1])):i.push(n),i=r(["block",i])):t&&y(n)&&(i=[["if",s(e),n]],t[0]==="block"?t[1]&&(i=i.concat(t[1])):i.push(t),i=r(["block",i])),i}function N(e,t){return x(e,function(e,n){return n?["for",null,null,null,r(t)]:(T(t),["block"])})}t=M(t,{make_seqs:!0,dead_code:!0,keep_comps:!0,no_warnings:!1});var n=l(),r=n.walk,i;return n.with_walkers({sub:function(e,t){if(t[0]==="string"){var n=t[1];if(_(n))return["dot",r(e),n]}},"if":d,toplevel:function(e){return["toplevel",a(this.scope,function(){return h(P(e,r))})]},"switch":function(e,t){var n=t.length-1;return["switch",r(e),P(t,function(e,t){var i=h(P(e[1],r));if(t===n&&i.length>0){var s=i[i.length-1];s[0]==="break"&&!s[1]&&i.pop()}return[e[0]?r(e[0]):null,i]})]},"function":function(){var e=c.apply(this,arguments);return e[1]&&!D(i.refs,e[1])&&(e[1]=null),e},defun:c,block:function(e){if(e)return f(["block",h(P(e,r))])},binary:function(e,t,n){return x(["binary",e,r(t),r(n)],function(t){return m(r(t),this)},function(){return this})},conditional:function(e,t,n){return w(r(e),r(t),r(n))},"try":function(e,t,n){return["try",h(P(e,r)),t!=null?[t[0],h(P(t[1],r))]:null,n!=null?h(P(n,r)):null]},"unary-prefix":function(e,t){t=r(t);var n=["unary-prefix",e,t];return e==="!"&&(n=m(n,s(t))),x(n,function(e,t){return r(e)},function(){return n})},name:function(e){switch(e){case"true":return["unary-prefix","!",["num",0]];case"false":return["unary-prefix","!",["num",1]]}},"new":function(e,t){if(e[0]==="name"&&e[1]==="Array"&&!i.has("Array"))return t.length!=1?["array",t]:["call",["name","Array"],t]},call:function(e,t){if(e[0]==="name"&&e[1]==="Array"&&t.length!=1&&!i.has("Array"))return["array",t]},"while":N,"do":N},function(){return r(p(e))})}function k(e){var t=0,n=0;return e=e.replace(/[\\\b\f\n\r\t\x22\x27]/g,function(e){switch(e){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"	":return"\\t";case'"':return++t,'"';case"'":return++n,"'"}return e}),t>n?"'"+e.replace(/\x27/g,"\\'")+"'":'"'+e.replace(/\x22/g,'\\"')+'"'}function L(e,t){function c(e){return e==null&&(e=""),t&&(e=O(" ",t.indent_start+n*t.indent_level)+e),e}function h(e,t){t==null&&(t=1),n+=t;try{return e.apply(null,o(arguments,1))}finally{n-=t}}function p(e){if(t)return e.join(" ");var n=[];for(var r=0;r<e.length;++r){var i=e[r+1];n.push(e[r]),i&&(/[a-z0-9_\x24]$/i.test(e[r].toString())&&/^[a-z0-9_\x24]/i.test(i.toString())||/[\+\-]$/.test(e[r].toString())&&/^[\+\-]/.test(i.toString()))&&n.push(" ")}return n.join("")}function d(e){return e.join(","+i)}function v(e){var t=B(e);for(var n=1;n<arguments.length;++n){var r=arguments[n];if(r instanceof Function&&r(e)||e[0]==r)return"("+t+")"}return t}function m(e){if(e.length===1)return e[0];if(e.length===2){var t=e[1];return e=e[0],e.length<=t.length?e:t}return m([e[0],m(e.slice(1))])}function g(e){if(e[0]==="function"){var t=o(H),n=t.pop(),r=t.pop();while(r){if(r[0]==="stat")return!0;if(!(r[0]==="seq"&&r[1]===n||r[0]==="call"&&r[1]===n||r[0]==="binary"&&r[2]===n))return!1;n=r,r=t.pop()}}return!D(C,e[0])}function y(e){var t=e.toString(10),n=[t.replace(/^0\./,".")],r;return Math.floor(e)===e?(n.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)),(r=/^(.*?)(0+)$/.exec(e))&&n.push(r[1]+"e"+r[2].length)):(r=/^0?\.(0+)(.*)$/.exec(e))&&n.push(r[2]+"e-"+(r[1].length+r[2].length),t.substr(t.indexOf("."))),m(n)}function w(e){if(e[0]==="do")return B(["block",[e]]);var t=e;for(;;){var n=t[0];if(n==="if"){if(!t[3])return B(["block",[e]]);t=t[3]}else if(n==="while"||n==="do")t=t[2];else{if(n!=="for"&&n!=="for-in")break;t=t[4]}}return B(e)}function S(e,n,r,i,s){var o=s||"function";return e?o+=" "+x(e):t&&(o+=" "),o+="("+d(P(n,x))+")",p([o,L(r)])}function x(e){return e.toString()}function T(e){for(var n=[],r=e.length-1,i=0;i<=r;++i){var s=e[i],o=B(s);o!=";"&&(!t&&i===r&&(s[0]==="while"&&E(s[2])||u(s[0],["for","for-in"])&&E(s[4])||s[0]==="if"&&E(s[2])&&!s[3]||s[0]==="if"&&s[3]&&E(s[3])?o=o.replace(/;*\s*$/,";"):o=o.replace(/;+\s*$/,"")),n.push(o))}return P(n,c)}function N(e){var n=e.length;return n===0?"{}":"{"+r+P(e,function(e,i){var s=e[1].length>0,o=h(function(){return c(e[0]?p(["case",B(e[0])+":"]):"default:")},.5)+(s?r+h(function(){return T(e[1]).join(r)}):"");return!t&&s&&i<n-1&&(o+=";"),o}).join(r)+r+c("}")}function L(e){return e?e.length===0?"{}":"{"+r+h(function(){return T(e).join(r)})+r+c("}"):";"}function A(e){var t=e[0],n=e[1];return n!=null&&(t=p([t,"=",B(n)])),t}function B(e){if(!e)return;var t=e[0],n=b[t];if(!n)throw new Error("Can't find generator for \""+t+'"');H.push(e);var r=n.apply(t,e.slice(1));return H.pop(),r}t&&(t=M(t,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!1}));var n=0,r=t?"\n":"",i=t?" ":"",b={string:k,num:y,name:x,toplevel:function(e){return T(e).join(r+r)},block:L,"var":function(e){return"var "+d(P(e,A))+";"},"const":function(e){return"const "+d(P(e,A))+";"},"import":function(e){return d(P(e,function(e){var t=e[0],n=t;return e.length>1&&(n=e[1][1]),t+" = require("+B(["string",n])+")"}))+";"},"export":function(e){return d(P(e,function(t){var n=t[0],r=n;return t.length>1&&(r=t[1][1]),"exports."+n+" = "+d(P(e,A))}))+";"},"try":function(e,t,n){var r=["try",L(e)];return t&&r.push("catch","("+t[0]+")",L(t[1])),n&&r.push("finally",L(n)),p(r)},"throw":function(e){return p(["throw",B(e)])+";"},"new":function(e,t){return t=t.length>0?"("+d(P(t,B))+")":"",p(["new",v(e,"seq","binary","conditional","assign",function(e){var t=l(),n={};try{t.with_walkers({call:function(){throw n},"function":function(){return this}},function(){t.walk(e)})}catch(r){if(r===n)return!0;throw r}})+t])},"switch":function(e,t){return p(["switch","("+B(e)+")",N(t)])},"break":function(e){var t="break";return e!=null&&(t+=" "+x(e)),t+";"},"continue":function(e){var t="continue";return e!=null&&(t+=" "+x(e)),t+";"},conditional:function(e,t,n){return p([v(e,"assign","seq","conditional"),"?",v(t,"seq"),":",v(n,"seq")])},assign:function(e,t,n){return e&&e!==!0?e+="=":e="=",n||console.log("assign:",e,t,n),p([B(t),e,v(n,"seq")])},dot:function(e){var t=B(e),n=1;e[0]==="num"?t+=".":g(e)&&(t="("+t+")");while(n<arguments.length)t+="."+x(arguments[n++]);return t},call:function(e,t){var n=B(e);return g(e)&&(n="("+n+")"),n+"("+d(P(t,function(e){return v(e,"seq")}))+")"},"function":S,defun:S,"if":function(e,t,n){var r=["if","("+B(e)+")",n?w(t):B(t)];return n&&r.push("else",B(n)),p(r)},"for":function(e,t,n,r){var s=["for"];e=(e!=null?B(e):"").replace(/;*\s*$/,";"+i),t=(t!=null?B(t):"").replace(/;*\s*$/,";"+i),n=(n!=null?B(n):"").replace(/;*\s*$/,"");var o=e+t+n;return o==="; ; "&&(o=";;"),s.push("("+o+")",B(r)),p(s)},"for-in":function(e,t,n,r){var i=p(["for","("]);return e&&(i+="var "),i+=p([x(t)+" in "+B(n)+")",B(r)]),i},"while":function(e,t){return p(["while","("+B(e)+")",B(t)])},"do":function(e,t){return p(["do",B(t),"while","("+B(e)+")"])+";"},"return":function(e){var t=["return"];return e!=null&&t.push(B(e)),p(t)+";"},binary:function(e,t,n){var r=B(t),i=B(n);if(u(t[0],["assign","conditional","seq"])||t[0]==="binary"&&a[e]>a[t[1]])r="("+r+")";if(u(n[0],["assign","conditional","seq"])||n[0]==="binary"&&a[e]>=a[n[1]]&&(n[1]!==e||!u(e,["&&","||","*"])))i="("+i+")";return e==="xor"&&(e="^"),p([r,e,i])},"unary-prefix":function(e,t){var n=B(t);return t[0]==="num"||t[0]==="unary-prefix"&&!D(f,e+t[1])||!g(t)||(n="("+n+")"),e+(s.is_alphanumeric_char(e.charAt(0))?" ":"")+n},"unary-postfix":function(e,t){var n=B(t);return t[0]==="num"||t[0]==="unary-postfix"&&!D(f,e+t[1])||!g(t)||(n="("+n+")"),n+e},sub:function(e,t){var n=B(e);return g(e)&&(n="("+n+")"),n+"["+B(t)+"]"},object:function(e){return e.length===0?"{}":"{"+r+h(function(){return P(e,function(e){if(e.length===3)return c(S(e[0],e[1][2],e[1][3],e[1][4],e[2]));var n=e[0],r=B(e[1]);return t&&t.quote_keys?n=k(n):(typeof n=="number"||!t&&+n+""===n)&&parseFloat(n)>=0?n=y(+n):_(n)||(n=k(n)),c(p(t&&t.space_colon?[n,":",r]:[n+":",r]))}).join(","+r)})+r+c("}")},regexp:function(e,t){return"/"+e+"/"+t},array:function(e){return e.length===0?"[]":p(["[",d(P(e,function(e){return!t&&e[0]==="atom"&&e[1]==="undefined"?"":v(e,"seq")})),"]"])},stat:function(e){return B(e).replace(/;*\s*$/,";")},seq:function(){return d(P(o(arguments),B))},label:function(e,t){return p([x(e),":",B(t)])},"with":function(e,t){return p(["with","("+B(e)+")",B(t)])},atom:function(e){return x(e)}},H=[];return B(e)}function A(e,t){var n=[0];return s.parse(function(){function u(e){return e.pos-i}function a(e){i=e.pos,n.push(i)}function f(){var e=r.apply(this,arguments);e:{if(o&&o.type==="keyword")break e;if(u(e)>t)switch(e.type){case"keyword":case"atom":case"name":case"punc":a(e);break e}}return o=e,e}var r=s.tokenizer(e),i=0,o;return f.context=function(){return r.context.apply(this,arguments)},f}()),n.map(function(t,r){return e.substring(t,n[r+1]||e.length)}).join("\n")}function O(e,t){if(t<=0)return"";if(t===1)return e;var n=O(e,t>>1);return n+=n,t&1&&(n+=e),n}function M(e,t){var n={};e===!0&&(e={});for(var r in t)D(t,r)&&(n[r]=e&&D(e,r)?e[r]:t[r]);return n}function _(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)&&e!="this"&&!D(s.KEYWORDS_ATOM,e)&&!D(s.RESERVED_WORDS,e)&&!D(s.KEYWORDS,e)}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var s=e("./parser"),o=s.slice,u=s.member,a=s.PRECEDENCE,f=s.OPERATORS,h=function(){var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_";return function(t){var n="";do n=e.charAt(t%54)+n,t=Math.floor(t/54);while(t>0);return n}}();c.prototype={has:function(e){for(var t=this;t;t=t.parent)if(D(t.names,e))return t},has_mangled:function(e){for(var t=this;t;t=t.parent)if(D(t.rev_mangled,e))return t},toJSON:function(){return{names:this.names,uses_eval:this.uses_eval,uses_with:this.uses_with}},next_mangled:function(){for(;;){var e=h(++this.cname),t;t=this.has_mangled(e);if(t&&this.refs[t.rev_mangled[e]]===t)continue;t=this.has(e);if(t&&t!==this&&this.refs[e]===t&&!t.has_mangled(e))continue;if(D(this.refs,e)&&this.refs[e]==null)continue;if(!_(e))continue;return e}},get_mangled:function(e,t){if(this.uses_eval||this.uses_with)return e;var n=this.has(e);if(!n)return e;if(D(n.mangled,e))return n.mangled[e];if(!t)return e;var r=n.next_mangled();return n.rev_mangled[r]=e,n.mangled[e]=r},define:function(e){if(e!=null)return this.names[e]=e}};var v=function(){},x=function(){function t(n){switch(n[0]){case"string":case"num":return n[1];case"name":case"atom":switch(n[1]){case"true":return!0;case"false":return!1}break;case"unary-prefix":switch(n[1]){case"!":return!t(n[2]);case"typeof":return typeof t(n[2]);case"~":return~t(n[2]);case"-":return-t(n[2]);case"+":return+t(n[2])}break;case"binary":var r=n[2],i=n[3];switch(n[1]){case"&&":return t(r)&&t(i);case"||":return t(r)||t(i);case"|":return t(r)|t(i);case"&":return t(r)&t(i);case"^":return t(r)^t(i);case"+":return t(r)+t(i);case"*":return t(r)*t(i);case"/":return t(r)/t(i);case"-":return t(r)-t(i);case"<<":return t(r)<<t(i);case">>":return t(r)>>t(i);case">>>":return t(r)>>>t(i);case"==":return t(r)==t(i);case"===":return t(r)===t(i);case"!=":return t(r)!=t(i);case"!==":return t(r)!==t(i);case"<":return t(r)<t(i);case"<=":return t(r)<=t(i);case">":return t(r)>t(i);case">=":return t(r)>=t(i);case"in":return t(r)in t(i);case"instanceof":return t(r)instanceof t(i)}}throw e}var e={};return function(n,r,i){try{var s=t(n),o;switch(typeof s){case"string":o=["string",s];break;case"number":o=["num",s];break;case"boolean":o=["name",String(s)];break;default:throw new Error("Can't handle constant of type: "+typeof s)}return r.call(n,o,s)}catch(u){if(u===e)return n[0]==="binary"&&(n[1]==="==="||n[1]==="!==")&&(S(n[2])&&S(n[3])||b(n[2])&&b(n[3]))&&(n[1]=n[1].substr(0,2)),i?i.call(n,n):null;throw u}}}(),C=s.array_to_hash(["name","array","string","dot","sub","call","regexp"]),P;(function(){function e(e){this.v=e}P=function(t,n,r){var i=[];for(var s=0;s<t.length;++s){var o=n.call(r,t[s],s);o instanceof e?i.unshift(o.v):i.push(o)}return i},P.at_top=function(t){return new e(t)}})(),n.ast_walker=l,n.ast_mangle=d,n.ast_squeeze=N,n.gen_code=L,n.ast_add_scope=p,n.ast_squeeze_more=e("./squeeze-more").ast_squeeze_more,n.set_logger=function(e){v=e},n.make_string=k,n.split_lines=A,n.MAP=P,n.Scope=c}),_require.define("compiler/squeeze-more","compiler/squeeze-more.js",function(e,t,n,r,i){function c(e){var t=o.ast_walker(),n=t.walk;return t.with_walkers({call:function(e,t){if(e[0]=="dot"&&e[2]=="toString"&&t.length==0)return["binary","+",e[1],["string",""]]}},function(){return n(e)})}var s=e("./parser"),o=e("./process"),u=s.slice,a=s.member,f=s.PRECEDENCE,l=s.OPERATORS;n.ast_squeeze_more=c}),_require.define("","index.js",function(e,t,n,r,i){global.Move=n,global.__move=n,n.version=function(){return n.version._v===undefined&&(n.version._v=JSON.parse(e("fs").readFileSync(i+"/../package.json","utf8")).version),n.version._v},e("./compiler")}),_require.define("runtime/es5_array","runtime/es5_array.js",function(e,t,n,r,i){Array.isArray||(Array.isArray=function(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,n){var r,i=this.length;for(r=+n||0;r<i;++r)if(this[r]===t)return r;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(t,n){var r=Math.min(this.length,+n||0);for(;r!==-1;--r)if(this[r]===t)return r;return-1}),Array.prototype.filter||(Array.prototype.filter=function(t,n){var r=[];for(var i=0;i<this.length;i++)t.call(n,this[i])&&r.push(this[i]);return r}),Array.prototype.forEach||(Array.prototype.forEach=function s(e,t){var n=this.length>>>0;for(var r=0;r<n;++r)r in this&&e.call(t,this[r],r,this)}),Array.prototype.every||(Array.prototype.every=function(t,n){var r=this.length>>>0;for(var i=0;i<r;++i)if(i in this&&!t.call(n,this[i],i,this))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t,n){var r=this.length>>>0;for(var i=0;i<r;++i)if(i in this&&t.call(n,this[i],i,this))return!0;return!1}),Array.prototype.map||(Array.prototype.map=function(t,n){var r=this.length>>>0,i=new Array(r);for(var s=0;s<r;++s)i[s]=t.call(n,this[s],s,this);return i}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var n=this.length>>>0,r=0,i;if(n===0&&arguments.length===1)throw new TypeError;if(arguments.length>=2)i=arguments[1];else do{if(r in this){i=this[r++];break}if(++r>=n)throw new TypeError}while(!0);for(;r<n;r++)r in this&&(i=t.call(null,i,this[r],r,this));return i}),Array.prototype.unshift||(Array.prototype.unshift=function(){this.reverse();var e=arguments.length;while(e--)this.push(arguments[e]);return this.reverse(),this.length})}),_require.define("runtime/es5_date","runtime/es5_date.js",function(e,t,n,r,i){Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.getTimezoneOffset||(Date.prototype.getTimezoneOffset=function(){if(this._timezoneOffsetStd===undefined){var t=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0),n=t.toGMTString(),r=new Date(n.substring(0,n.lastIndexOf(" ")-1));this._timezoneOffsetStd=(r-t)/6e4}return this._timezoneOffsetStd})}),_require.define("runtime/es5_json","runtime/es5_json.js",function(require,module,exports,__filename,__dirname){var JSON=global.JSON;if(typeof JSON!="object"||typeof JSON.stringify!="function"||typeof JSON.parse!="function")JSON=global.JSON={},function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)r=rep[n],typeof r=="string"&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}),_require.define("runtime/es5_object","runtime/es5_object.js",function(e,t,n,r,i){var s=Array.prototype.slice.call;Object.create||(Object.create=function(t,n){var r=function(){n&&Object.defineProperties&&Object.defineProperties(this,n)};return r.prototype=t,new r}),Object.keys||(Object.keys=function o(e){var o=[];for(var t in e)o.push(t);return o}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(){return Object.keys.apply(this,s(arguments))}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(t,n){if(t.hasOwnProperty(n))return{configurable:!0,enumerable:!0,value:t[n],writable:!0}}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(e){return e in this}),Object.defineProperty||Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.defineProperty=function(e,t,n){if(typeof n=="object")if(n.hasOwnProperty("value")){!e.__lookupGetter__(t)&&!e.__lookupSetter__(t)&&(e[t]=n.value);if(n.hasOwnProperty("get")||n.hasOwnProperty("set"))throw new TypeError("Object doesn't support this action")}else typeof n.get=="function"&&e.__defineGetter__(t,n.get),typeof n.set=="function"&&e.__defineSetter__(t,n.set);return e}),!Object.defineProperties&&Object.defineProperty&&(Object.defineProperties=function(e,t){for(var n in t)Object.defineProperty(e,n,t[n])})}),_require.define("runtime/es5_string","runtime/es5_string.js",function(e,t,n,r,i){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^(?:\s|\u00A0)+/,"").replace(/(?:\s|\u00A0)+$/,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^(?:\s|\u00A0)+/,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/(?:\s|\u00A0)+$/,"")})}),_require.define("runtime","runtime/index.js",function(e,t,n,r,i){e("./runtime_object"),e("./runtime_string"),global.Move||(global.Move={}),global.Move.runtime={_MoveKWArgsT:e("./symbols")._MoveKWArgsT,dprinter:function(){return function(){}}},global.Move.runtime=e("./runtime_move"),e("./preprocessors/ehtml")}),_require.define("runtime/preprocessors/ehtml","runtime/preprocessors/ehtml.mv",function(e,t,n,r,i){(function(){"use strict";var e,t,n,r,i,s,o,u,a,f,l,c,h,p;e=Move.runtime,t=e._MoveKWArgsT,n=e.Text,r=e.extend,i=e.create,s=e.print,o=e.repeat,u=e.after,a=e.JSON,f=e.__class,l=e.EventEmitter,c=typeof document!="undefined";if(!c){h=function(n){return n!==null&&typeof n=="object"&&n.__kw===t&&(arguments.keywords=n,n=n.html),{innerHTML:n}};return}return h=function d(e){e!==null&&typeof e=="object"&&e.__kw===t&&(arguments.keywords=e,e=e.html);var n;return d.spawnerElement||(d.spawnerElement=document.createElement("div")),d.spawnerElement.innerHTML=e,n=d.spawnerElement.firstChild,n},Move.EHTML=h,p=document.body&&document.body.classList,p?h.createViewImpl=function(){var t;return this.createView&&(t=this.createView.apply(this,arguments),t&&t instanceof Element&&t.classList.add(this.__domid)),t}:h.createViewImpl=function(){var t;return this.createView&&(t=this.createView.apply(this,arguments),t&&t instanceof Element&&(t.className+=" "+this.__domid)),t},p?h.classNameWrapper=function(n){return n!==null&&typeof n=="object"&&n.__kw===t&&(arguments.keywords=n,n=n.className),function(e){e!==null&&typeof e=="object"&&e.__kw===t&&(arguments.keywords=e,e=e.html);var r;return(r=Move.EHTML(e))&&r.classList.add(n),r}}:h.classNameWrapper=function(n){return n!==null&&typeof n=="object"&&n.__kw===t&&(arguments.keywords=n,n=n.className),n=" "+n,function(e){e!==null&&typeof e=="object"&&e.__kw===t&&(arguments.keywords=e,e=e.html);var r;if(r=Move.EHTML(e))r.className+=n;return r}}})()}),_require.define("runtime/runtime_array","runtime/runtime_array.js",function(e,t,n,r,i){typeof Array.prototype.unique!="function"&&Object.defineConstant(Array.prototype,"unique",function(){var t=[],n,r,i=this.length;for(n=0;n<i;++n){for(r=n+1;r<i;++r)this[n]===this[r]&&(r=++n);t.push(this[n])}return t});if(typeof Array.prototype._move_setSlice!="function"){var s=Array.prototype.splice;Object.defineConstant(Array.prototype,"_move_setSlice",function(t,n,r){var i;if(n!==undefined){if(typeof n!="number")throw new TypeError("Second argument must be a number");i=n-t}else i=this.length;return s.apply(this,[t,i].concat(r))})}}),_require.define("runtime/runtime_class","runtime/runtime_class.mv",function(e,t,n,r,i){(function(){"use strict";var e,t,r,i,s,o,u,a,f,l,c,h,p,l;return e=Move.runtime,t=e._MoveKWArgsT,r=e.Text,i=e.extend,s=e.create,o=e.print,u=e.repeat,a=e.after,f=e.JSON,l=e.__class,c=e.EventEmitter,h=Object.prototype.constructor,p=typeof Object.prototype.__proto__=="object"?"__proto__":"prototype",n.__class=l=function(){var n,r,i,s,o;n=arguments[0];if(arguments.length===3){r=arguments[1],i=arguments[2];if((s=typeof i)!=="object"&&s!=="function")throw TypeError("unexpected type "+s+" of second argument (expected object)")}else if(arguments.length===2){i=arguments[1];if((s=typeof i)==="function")r=i,i=undefined;else if(s!=="object")throw TypeError("unexpected type "+s+" of first argument (expected object or function)")}return i&&i.__kw===t&&delete i.__kw,r&&(o=Object.create(r.prototype||null),i&&Object.keys(i).forEach(function(e){e!==null&&typeof e=="object"&&e.__kw===t&&(arguments.keywords=e,e=e.key);var n;if((n=i[e])!==undefined)return o[e]=n}),i=o),n.prototype=i||null,n.constructor=undefined,n},l.create=function(){var t,n,r,s;return t=arguments[0],n=arguments[1],r=Object.create(t.prototype),(s=r.constructor)&&s!==h&&typeof s=="function"?s.apply(r,n):typeof n[0]=="object"&&i(r,n[0]),r}})()}),_require.define("runtime/runtime_date","runtime/runtime_date.mv",function(e,t,n,r,i){(function(){"use strict";var e,t,n,r,i,s,o,u,a,f,l,c,h;e=Move.runtime,t=e._MoveKWArgsT,n=e.Text,r=e.extend,i=e.create,s=e.print,o=e.repeat,u=e.after,a=e.JSON,f=e.__class,l=e.EventEmitter,Date.distantFuture===undefined&&(Date.distantFuture=new Date(359753450957352)),Date.distantPast===undefined&&(Date.distantPast=new Date(-621356868e5)),Date.nowUTC||(Date.nowUTC=function(){return(new Date).getUTCTime()}),Date.prototype.getUTCTime||Object.defineConstant(Date.prototype,"getUTCTime",c=function(){return this.getTime()-this.getTimezoneOffset()});if(!Date.prototype.getUTCComponents)return Object.defineConstant(Date.prototype,"getUTCComponents",h=function(){return[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds(),this.getUTCMilliseconds()]})})()}),_require.define("runtime/runtime_events","runtime/runtime_events.mv",function(e,t,n,r,i){(function(){"use strict";var e,t,r,i,s,o,u,a,f,l,c;return e=Move.runtime,t=e._MoveKWArgsT,r=e.Text,i=e.extend,s=e.create,o=e.print,u=e.repeat,a=e.after,f=e.JSON,l=e.__class,c=e.EventEmitter,c=n.EventEmitter=l(c=function h(){return l.create(h,arguments)},{on:function(e,n){e!==null&&typeof e=="object"&&e.__kw===t&&(arguments.keywords=e,n=e.invoke,e=e.event);var r;return this.eventListeners?(r=this.eventListeners[e])?r.push(n):this.eventListeners[e]=[n]:(Object.defineProperty(this,"eventListeners",{value:{}}),this.eventListeners[e]=[n])},emit:function(){var e,t,n,r,i;e=arguments[0];if(this.eventListeners&&(t=this.eventListeners[e])){n=Array.prototype.slice.call(arguments,1);for(r=0,i=t.length;r<i;++r)t[r]&&t[r].apply(this,n)}},removeEventListener:function(e,n){e!==null&&typeof e=="object"&&e.__kw===t&&(arguments.keywords=e,n=e.callback,e=e.event);var r,i;if(this.eventListeners)return n&&(r=this.eventListeners[e])?(i=r.indexOf(n),r.splice(i,1)):this.eventListeners[e]=undefined}}),n.EventEmitter.enableFor=function(r){return r!==null&&typeof r=="object"&&r.__kw===t&&(arguments.keywords=r,r=r.object),i(r,n.EventEmitter.prototype)}})()}),_require.define("runtime/runtime_inspect","runtime/runtime_inspect.js",function(e,t,n,r,i){function s(e){return e instanceof Array||Array.isArray(e)||e&&e!==Object.prototype&&s(e.prototype)}function o(e){var t=""+e;return e instanceof RegExp||typeof e=="function"&&e.constructor.name==="RegExp"&&e.compile&&e.test&&e.exec&&t.match(/^\/.*\/[gim]{0,3}$/)}function u(e){if(e instanceof Date)return!0;if(typeof e!="object")return!1;var t=Date.prototype&&Object.getOwnPropertyNames(Date.prototype),n=e.__proto__&&Object.getOwnPropertyNames(e.__proto__);return JSON.stringify(n)===JSON.stringify(t)}n.inspect=function(e,t,r,i){function l(e,r){if(e&&typeof e.inspect=="function"&&e!==n&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(r);switch(typeof e){case"undefined":return f("undefined","undefined");case"string":var i=JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");return f(i,"string");case"number":return f(""+e,"number");case"boolean":return f(""+e,"boolean")}if(e===null)return f("null","null");var c=Object.keys(e),h=t?Object.getOwnPropertyNames(e):c;if(typeof e=="function"&&h.length===0){if(o(e))return f(""+e,"regexp");var p=e.name?": "+e.name:"";return f("[Function"+p+"]","special")}if(u(e)&&h.length===0)return f(e.toUTCString(),"date");var d,v,m;s(e)?(v="Array",m=["[","]"]):(v="Object",m=["{","}"]);if(typeof e=="function"){var g=e.name?": "+e.name:"";d=o(e)?" "+e:" [Function"+g+"]"}else d="";u(e)&&(d=" "+e.toUTCString());if(h.length===0)return m[0]+d+m[1];if(r<0)return o(e)?f(""+e,"regexp"):f("[Object]","special");a.push(e);var y=h.map(function(t){var n,i;e.__lookupGetter__&&(e.__lookupGetter__(t)?e.__lookupSetter__(t)?i=f("[Getter/Setter]","special"):i=f("[Getter]","special"):e.__lookupSetter__(t)&&(i=f("[Setter]","special"))),c.indexOf(t)<0&&(n="["+t+"]"),i||(a.indexOf(e[t])<0?(r===null?i=l(e[t]):i=l(e[t],r-1),i.indexOf("\n")>-1&&(s(e)?i=i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):i="\n"+i.split("\n").map(function(e){return"   "+e}).join("\n"))):i=f("[Circular]","special"));if(typeof n=="undefined"){if(v==="Array"&&t.match(/^\d+$/))return i;n=JSON.stringify(""+t),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=f(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=f(n,"string"))}return n+": "+i});a.pop();var b=0,w=y.reduce(function(e,t){return b++,t.indexOf("\n")>=0&&b++,e+t.length+1},0);return w>50?y=m[0]+(d===""?"":d+"\n ")+" "+y.join(",\n  ")+" "+m[1]:y=m[0]+d+" "+y.join(", ")+" "+m[1],y}var a=[],f=function(e,t){return e};return l(e,typeof r=="undefined"?2:r)}}),_require.define("runtime/runtime_move","runtime/runtime_move.mv",function(e,t,n,r,i){(function(){"use strict";var t,r,i,s,o,u,a,f,l,c,h,p,s,o,a,f,d;t=Move.runtime,r=t._MoveKWArgsT,i=t.Text,s=t.extend,o=t.create,u=t.print,a=t.repeat,f=t.after,l=t.JSON,c=t.__class,h=t.EventEmitter,r=global.Move.runtime._MoveKWArgsT,p=typeof process!="undefined"&&!!(typeof process.versions=="object"&&process.versions.node||process.pid),p||(e("./es5_object"),e("./es5_array"),e("./es5_date"),e("./es5_json")),e("./runtime_object"),e("./runtime_string"),e("./runtime_date"),e("./runtime_array"),Object.defineConstant(n,"_MoveKWArgsT",r,!0),Object.defineConstant(n,"Text",String,!0),Object.defineConstant(String.prototype,"toText",String.prototype.toString),n.extend=s=function(t,n,i){t!==null&&typeof t=="object"&&t.__kw===r&&(arguments.keywords=t,i=t.onlyOwnProperties,n=t.body,t=t.object);var s;s=n===null?"undefined":typeof n;if(s==="object"||s==="function")Object.prototype.forEach.call(n,function(e,n){e!==null&&typeof e=="object"&&e.__kw===r&&(arguments.keywords=e,n=e.value,e=e.key);if(n!==undefined&&n!==r)return t[e]=n},null,i);else if(s!=="undefined")throw new TypeError('"body" argument must be either an object or a function, not a '+s);return t},n.create=o=function(t,n){return t!==null&&typeof t=="object"&&t.__kw===r&&(arguments.keywords=t,n=t.body,t=t.prototype),s(Object.create(t),n)};if(typeof Object.inspect!="function")try{Object.inspect=e("util").inspect;if(typeof Object.inspect!="function")throw 1}catch(v){Object.inspect=e("./runtime_inspect").inspect}return typeof console!="undefined"&&console.log?typeof window!="undefined"?n.print=function(){return console.log.apply(console,Array.prototype.slice.call(arguments))}:n.print=console.log:n.print=function(){},n.dprinter=function(t){return t!==null&&typeof t=="object"&&t.__kw===r&&(arguments.keywords=t,t=t.module),function(){return n.print.apply(null,["["+t.id+"]"].concat(Array.prototype.slice.call(arguments)))}},n.repeat=a=function(t,n,i){t!==null&&typeof t=="object"&&t.__kw===r&&(arguments.keywords=t,i=t.block,n=t.every,t=t.times);var s,o;if(typeof t=="function"){for(;;)if(!t())break;return}if(typeof i!="function")return function(e){e!==null&&typeof e=="object"&&e.__kw===r&&(arguments.keywords=e,e=e.block);if(t!==undefined){for(s=0;s<t;++s)if(e(s)===!0)break}else{if(n!==undefined)return o=Object.create({},{cancel:{value:function(){return clearInterval(this.id)}}}),o.id=setInterval(function(){return e(o)},n),o;for(;;)if(!e())break}};if(t!==undefined){for(s=0;s<t;++s)if(i(s)===!0)break}else{if(n!==undefined)return o=Object.create({},{cancel:{value:function(){return clearInterval(this.id)}}}),o.id=setInterval(function(){return i(o)},n),o;for(;;)if(!i())break}},n.after=f=function(t,n,i){t!==null&&typeof t=="object"&&t.__kw===r&&(arguments.keywords=t,i=t.target,n=t.date,t=t.delay);if(t){if(typeof t!="number")throw new TypeError('"delay" argument must be a number')}else if(n){if(typeof n=="string"||typeof n=="number"){n=new Date(n);if(isNaN(n.getTime()))throw new Error('Invalid date/time passed for "date" argument')}else if(typeof n!="object"||!(n instanceof Date))throw new TypeError('"date" argument must be a Date object or a string');t=Math.max(0,n.getTime()-(new Date).getTime())}return function(e){e!==null&&typeof e=="object"&&e.__kw===r&&(arguments.keywords=e,e=e.block);var n;return i?n=function(){return e.apply(i,arguments)}:n=e,setTimeout(n,t)}},l=global.JSON,d=function(t,n){return t!==null&&typeof t=="object"&&t.__kw===r&&(arguments.keywords=t,n=t.parse,t=t.build),t!==undefined||n===undefined?l.stringify(t):l.parse(n)},d.parse=l.parse,d.stringify=l.stringify,n.JSON=d,global.Move.runtime=n,n.__class=e("./runtime_class").__class,n.EventEmitter=e("./runtime_events").EventEmitter})()}),_require.define("runtime/runtime_object","runtime/runtime_object.js",function(e,t,n,r,i){if(!Object.prototype.forEach){var forEach=function s(e,t,n){if(!t||typeof t!="object"&&typeof t!="function")t=this;if(typeof e!="function")throw new TypeError("First argument is not a function");var r=this,i;if(n)Object.keys(this).forEach(function(n){e.call(t,n,r[n],r)});else for(i in this)e.call(t,i,r[i],r);return this};Object.defineProperty&&Object.defineProperty(Object.prototype,"forEach",{value:forEach})}Object.defineConstant||(Object.defineConstant=Object.defineProperty?function(t,n,r,i){return Object.defineProperty(t,n,{enumerable:!!i,configurable:!1,writable:!1,value:r})}:function(t,n,r){t[n]=r})}),_require.define("runtime/runtime_string","runtime/runtime_string.js",function(e,t,n,r,i){String.prototype.repeat||Object.defineConstant(String.prototype,"repeat",function(t){s="";while(t--)s+=this;return s}),String.prototype.padLeft||Object.defineConstant(String.prototype,"padLeft",function(t,n){return this.length>=t?this:String(n||" ").repeat(t-this.length)+this}),String.prototype.padRight||Object.defineConstant(String.prototype,"padRight",function(t,n){return this.length>=t?this:this+String(n||" ").repeat(t-this.length)}),String.prototype.editDistance||Object.defineConstant(String.prototype,"editDistance",function(t){var n,r=(n=this.split("")).length,i=(t=t.split("")).length,s,o,u,a;if(!r&&!i)return Math.max(r,i);for(var f=[],s=r+1;s;f[--s]=[s]);for(s=i+1;f[0][--s]=s;);for(s=-1,u=n.length;++s<u;)for(o=-1,a=t.length;++o<a;)f[(s*=1)+1][(o*=1)+1]=Math.min(f[s][o+1]+1,f[s+1][o]+1,f[s][o]+(n[s]!=t[o]));return f[r][i]}),String.prototype.matchAll||Object.defineConstant(String.prototype,"matchAll",function(t){"use strict";t instanceof RegExp?t.global||(t=new RegExp(t.source,"g")):t=new RegExp(t,"g");var n,r=[];while(n=t.exec(this))r.push(n);return r}),String.prototype.forEachMatch||Object.defineConstant(String.prototype,"forEachMatch",function(t,n,r){"use strict";return r||(r=this),this.matchAll(t).forEach(n,r),r}),typeof String.prototype.toLocaleLowerCase=="function"&&Object.defineConstant(String.prototype,"toLowerCase",String.prototype.toLocaleLowerCase),typeof String.prototype.toLocaleUpperCase=="function"&&Object.defineConstant(String.prototype,"toUpperCase",String.prototype.toLocaleUpperCase)}),_require.define("runtime/symbols","runtime/symbols.js",function(e,t,n,r,i){n._MoveKWArgsT=function s(e){return e.__kw=s,e}}),_require("");var move=global.Move;move.version=function(){return"0.4.9"},move.require=Require(),typeof window.execScript=="function"?move.executeScript=function(t,n){return window.execScript(t)}:move.executeScript=function(t,n){return window.eval(t)},move.compileModule=function(t,n,r,i,s){var o;return typeof s=="object"?s=Object.create(s):s={},s.filename=r||"<"+(n||"main")+">",s.moduleStub=!0,o=move.compile(t,s),n?o=wrapAsModule(o,null,r,n):o="("+o+")(Move.require, {exports:{}}, {});\n",i=i||i===undefined,i?move.executeScript(null,o,r):o},move.scriptCompilationOptions={preprocess:["ehtml"]};var wrapAsModule=function(t,n,r,i){return i||(i=n.replace(/\.[^\.]+$/,"")),"Move.require.define("+JSON.stringify(i)+","+JSON.stringify(r||n)+","+t+");\n"};move.runBrowserScripts=function(t,n){var r,i,s,o,u,a=Object.create(move.scriptCompilationOptions),f=0,l=[],c=0,h=function(){++c},p=function(){if(--c===0){var e=0,t=l.length,r;for(;e<t;++e){r=l[e];if(!!r[0])throw r[0];move.executeScript.call(move,r[1],r[2])}typeof n=="function"&&n(null,l)}};o=(t||document).getElementsByTagName("script"),h();for(i=0,s=o.length;i<s;++i)r=o[i],r&&r.type==="text/move"&&function(e,t){h();var n=Object.create(a),r=t.getAttribute("module");if(t.src)n.filename=t.src,n.moduleStub=!0,move.compileURL(n.filename,n,function(i,s){r||(r=t.getAttribute("src")),s=wrapAsModule(s,r,n.filename),l[e]=[i,s,n.filename,t],p()});else{n.filename='<script module="'+r+'">';try{u=move.compileModule(t.innerHTML,r,null,!1,n),l[e]=[null,u,n.filename,t]}catch(i){l[e]=[i,null,n.filename,t]}p()}}(f++,r);return p(),null};var move_boot=function(){move.runBrowserScripts()};return window.addEventListener?window.addEventListener("DOMContentLoaded",move_boot,!1):window.attachEvent?window.attachEvent("onload",move_boot):window.addEvent?window.addEvent(window,"load",move_boot):window.onload=move_boot,move}())